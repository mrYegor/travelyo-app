(this.webpackJsonptravelyo=this.webpackJsonptravelyo||[]).push([[0],{14:function(e,t,a){e.exports=a(32)},19:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),i=(a(19),a(3)),o=a(2),s=r.a.createContext(),u=a(4),m=a(5),d={li:{display:"flex",flexDirection:"row",backgroundColor:"#F4F4F3",justifyContent:"space-between",margin:20,padding:10},img:{width:300,cursor:"pointer"},div:{backgroundColor:"#fff",padding:10}};var v=function(e){var t=e.event,a=Object(n.useContext)(s),c=a.getImages,l=a.filterByCategory,i=r.a.useState(!0),v=Object(o.a)(i,2),f=v[0],p=v[1];return r.a.createElement("li",{style:d.li},r.a.createElement("div",{style:d.div},r.a.createElement("h3",null,"Ticket price"),r.a.createElement("span",null,t.price)),r.a.createElement("div",{style:d.div,className:"description-wrapper"},r.a.createElement("h3",{onClick:l.bind(null,t.name)},t.name),t.description.length>200&&f?r.a.createElement("p",null,"".concat(t.description.substring(0,200),"...")," ",r.a.createElement("a",{href:"#",className:"read-more",onClick:function(e){e.preventDefault(),p(!1)}},"Read more")):r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"date",title:"Event Date"},t.dates[0]," ",r.a.createElement(u.a,{icon:m.a})),r.a.createElement("div",{className:"popularity",title:"Popularity of the event"},r.a.createElement("span",null,"Popular Event"),t.popular?r.a.createElement(u.a,{icon:m.c}):r.a.createElement(u.a,{icon:m.b}))),r.a.createElement("div",null,r.a.createElement("img",{src:t.images[0],style:d.img,onClick:c.bind(null,t.images)})))},f={option:{textTransform:"capitalize"}};var p=function(e){var t=e.category;return r.a.createElement("option",{style:f.option,value:t.toLowerCase()},t.toLowerCase())};var g=function(e){var t=e.categories,a=Object(n.useContext)(s).filterByCategory,c=r.a.useState(""),l=Object(o.a)(c,2),i=l[0],u=l[1];return r.a.createElement("select",{className:"category-filter",onClick:a.bind(null,i),onChange:function(e){return t=e.target.value,void u(t);var t}},r.a.createElement("option",{value:"reset"},"All categories"),t.map((function(e,t){return r.a.createElement(p,{category:e,key:t+1})})))};var E=function(){var e=Object(n.useContext)(s).sortByPrice,t=r.a.useState(""),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement("select",{className:"sort",onClick:e.bind(null,c),onChange:function(e){return t=e.target.value,void l(t);var t}},r.a.createElement("option",{value:"reset"},"Choose price"),r.a.createElement("option",{value:"toHigh"},"Low to High"),r.a.createElement("option",{value:"toLow"},"High to Low"))},h={ul:{listStyle:"none",padding:0,width:"80%",margin:"auto"},span:{color:"#3c8c9b"}};var y=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Upcoming events"),r.a.createElement("div",{className:"top-bar"},r.a.createElement("div",{className:"filters"},"Category: ",r.a.createElement(g,{categories:e.categories}),"Sort by price: ",r.a.createElement(E,null)),r.a.createElement("h4",null,"Total count: ",r.a.createElement("span",{style:h.span},e.events.length))),r.a.createElement("ul",{style:h.ul},e.events.map((function(e){return r.a.createElement(v,{event:e,key:e.id})}))))},b=a(13);a(31);var w=function(e){var t=e.visibleSlider,a=e.slideImages,c=Object(n.useContext)(s).hideSlider,l=a[0];return t&&r.a.createElement("div",{className:"slide-container"},r.a.createElement(b.Slide,{duration:5e3,transitionDuration:500,infinite:!0,indicators:!0,arrows:!0},r.a.createElement("div",{className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(l[0],")")}})),r.a.createElement("div",{className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(l[1],")")}})),r.a.createElement("div",{className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(l[2],")")}}))),r.a.createElement("button",{onClick:c,className:"close-slider"},"\xd7"))};var C=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=r.a.useState([]),u=Object(o.a)(l,2),m=u[0],d=u[1],v=r.a.useState(2),f=Object(o.a)(v,2),p=f[0],g=f[1],E=r.a.useState(!1),h=Object(o.a)(E,2),b=h[0],C=h[1],j=r.a.useState([]),k=Object(o.a)(j,2),O=k[0],S=k[1],N=r.a.useState([]),x=Object(o.a)(N,2),L=x[0],I=x[1],B=r.a.createRef();function P(e){fetch("https://s3.eu-central-1.amazonaws.com/js.smartair.co.il/custom/activities.json").then((function(e){return e.json()})).then((function(t){(t=Object.keys(t.activities).map((function(e){return t.activities[e]}))).length>e?t.length=e:B.current&&B.current.classList.add("none"),c(t),d(t),I(function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var o=c.value;t.push(Object(i.a)(o.category))}}catch(g){n=!0,r=g}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}for(var s=0;s<t.length;s++){var u=!0,m=!1,d=void 0;try{for(var v,f=t[s][Symbol.iterator]();!(u=(v=f.next()).done);u=!0){var p=v.value;L.includes(p.toLowerCase())||L.push(p.toLowerCase())}}catch(g){m=!0,d=g}finally{try{u||null==f.return||f.return()}finally{if(m)throw d}}}return L}(t)),g(e+1)}))}return Object(n.useEffect)((function(){P(p)}),[]),r.a.createElement(s.Provider,{value:{getImages:function(e){e.length>=1&&(O.length=0,O.push(Object(i.a)(e)),C(!0),S(O))},hideSlider:function(){C(!1)},filterByCategory:function(e){if(c(m),"reset"!==e){var t="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));c(Object(i.a)(m.filter((function(a){return a.category.includes(e)||a.category.includes(t)}))))}},sortByPrice:function(e){var t=Object(i.a)(m);t.sort((function(e,t){return e.price-t.price})),"toLow"===e&&t.reverse(),c(t),d(t)}}},r.a.createElement("div",{className:"wrapper"},r.a.createElement(w,{visibleSlider:b,slideImages:O}),r.a.createElement(y,{events:a,categories:L}),r.a.createElement("button",{type:"submit",className:"show-more-btn",onClick:function(){P(p)},ref:B},"Show more")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.83bfa1be.chunk.js.map